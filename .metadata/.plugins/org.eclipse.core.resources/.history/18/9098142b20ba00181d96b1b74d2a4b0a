package com.jacob.dao;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.boot.test.context.TestConfiguration;
import org.springframework.context.annotation.Bean;
import org.springframework.test.context.junit4.SpringRunner;
import static org.assertj.core.api.Assertions.*;
import com.jacob.model.Blog;

@RunWith(SpringRunner.class)
public class BlogDAOTest {

//	@Autowired
//	private BlogDAO blogDao;

	@TestConfiguration
static class BlogDAOTestContextConfiguration {
		@Bean
		public BlogDAO blogDao() {
		return blogDao();
		}
		}
			
	@Test
	public void getBlogTest() {
		System.out.println("Test ran?");
		Blog expected = new Blog(20, 40, "tom", "green"); 

		Blog actual = blogDao().getBlog(20);
		
		assertThat(expected.getTitle())
		.isEqualTo(actual.getTitle());
	}
	
}
